---
title: 'Tutorial: Property Extraction'
description: 'Using the Aryn SDK to extract properties from a document'
icon: 'arrow-up-triangle-square'
---

## Introduction

In this [example](fix-link), we'll use the Aryn SDK to extract properties from a document.

By the end of this tutorial, you will be able to extract fields from a document as complicated as the one below:

<Frame>
    <img src="/images/gri.png" />
</Frame>

And turn it into JSON like this (some content omitted for brevity):

```json
{
    ...
    "properties": {
        "entity": {
            "Submission Date": "2026-09-15T00:00:00",
            "Submission Contact Email": "jane.doe@globalre-demo.com",
            ...
            "Current Exposure Info": {
                "Rating Basis": "Payroll",
                "Exposure Premium": "Manual / Standard",
                "Exposure Amount": 215750000,
                "Exposure Amount Currency": "USD",
                "Exposure Modification": "Yes (NCCI Mod: 0.92)",
                "Current Exposure Information": [
                    {
                        "State": "CA",
                        "Class Code": "7219",
                        "Payroll": 45000000,
                        "Manual Premium": 1890000,
                        "Modified Premium": 1738800
                    },
                    {
                        "State": "TX",
                        "Class Code": "7219",
                        "Payroll": 32500000,
                        "Manual Premium": 910000,
                        "Modified Premium": 837200
                    },
                    {
                        "State": "IL",
                        "Class Code": "7380",
                        "Payroll": 28000000,
                        "Manual Premium": 812000,
                        "Modified Premium": 747040
                    },
                    ...
                ]
            }
        }
    }
}
```

Let's start simple and build up to more complex use cases. 

### Step 0: Get Ready

1. Get your free Aryn API key by signing up on the Aryn Console at [app.aryn.ai](https://app.aryn.ai).

2. Open up the follow-along Colab notebook and copy in your API key by clicking the key icon on the leftmost side of the screen.

   Then, click the "+ Add new secret" button in blue on the left hand side of your screen.

   Finally, add your Aryn API key in the value field under the name "ARYN_API_KEY".

   Alternatively, you can set the API key as an environment variable if you are doing this locally instead.

3. Download the sample document here or have your own handy.

### Step 1: String Property Extraction

#### Submission Date Extraction

Below, we extract the "Submission Date" property from the document. Follow along in the Colab notebook.

```python
import json
from aryn_sdk.partition import partition_file

submission_date_property = {
    "name": "Submission Date",
    "type": {
        "type": "datetime",
        "description": "The submission date of the claim",
    },
}

data = partition_file(
    "gri.pdf",
    property_extraction_options={
        "schema": {
            "properties": [
                submission_date_property
            ]
        }
    },
)

print(json.dumps(data, indent=4))
```

The output should look like this:

```json
{
    ...
    "properties": {
        "entity": {
            "Submission Date": "2025-09-15T00:00:00"
        }
    }
}

```

#### Submission Contact Email Extraction

Now let's also extract the submission contact email property from the document.  For reference, this document has contact info at the end of the last page.  As mentioned in the [table extraction tutorial](../tutorials/tables), we can use the `table_mode` parameter to extract tables.

```python
import json
from aryn_sdk.partition import partition_file

submission_date_property = {
    "name": "Submission Date",
    "type": {
        "type": "datetime",
        "description": "The submission date of the claim",
    },
}

submission_contact_email_property = {
    "name": "Submission Contact Email",
    "type": {
        "type": "string",
        "description": "The submission contact email",
    },
}

data = partition_file(
    "gri.pdf",
    table_mode="standard",
    property_extraction_options={
        "schema": {
            "properties": [
                submission_date_property,
                submission_contact_email_property
            ]
        }
    },
)

print(json.dumps(data, indent=4))
```

The output should look like this:

```json
{
    ...
    "properties": {
        "entity": {
            "Submission Date": "2026-09-15T00:00:00",
            "Submission Contact Email": "jane.doe@globalre-demo.com"
        }
    }
}
```

#### Validation

Every property must have a name, and optionally a description and/or validatior.

Here's an example of a property with a regex validator to check the format of the submission contact email is not unreasonable.  Currently, only regex validators are supported.

```python
import json
from aryn_sdk.partition import partition_file

submission_date_property = {
    "name": "Submission Date",
    "type": {
        "type": "datetime",
        "description": "The submission date of the claim",
    },
}

submission_contact_email_property = {
    "name": "Submission Contact Email",
    "type": {
        "type": "string",
        "description": "The submission contact email",
        "validators": [
            {
                "type": "regex",
                "regex": "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
            }
        ],
    },
}

data = partition_file(
    "gri.pdf",
    table_mode="standard",
    property_extraction_options={
        "schema": {
            "properties": [
                submission_date_property,
                submission_contact_email_property
            ]
        }
    },
)

print(json.dumps(data, indent=4))
```

The output should look the same as before.

### Step 2: Object Extraction

Now that we know how to extract properties, let's extract properties structured within an object. Let's extract the current exposure information from the document. This is found in the middle of page 2.

```python
current_exposure_info = {
    "name": "Current Exposure Info",
    "type": {
        "type": "object",
        "properties": [
            {"name": "Rating Basis", "type": {"type": "string"}},
            {"name": "Exposure Premium", "type": {"type": "string"}},
            {"name": "Exposure Amount", "type": {"type": "int"}},
            {"name": "Exposure Amount Currency", "type": {"type": "string"}},
            {"name": "Exposure Modification", "type": {"type": "string"}},
        ],
    },
}

data = partition_file(
    "gri.pdf",
    table_mode="standard",
    property_extraction_options={"schema": {"properties": [current_exposure_info]}},
)

print(json.dumps(data, indent=4))
```

The output should look like this:

```json
{
    ...
    "properties": {
        "entity": {
            "Current Exposure Info": {
                "Rating Basis": "Payroll",
                "Exposure Premium": "Manual / Standard",
                "Exposure Amount": 215750000,
                "Exposure Amount Currency": "USD",
                "Exposure Modification": "Yes (NCCI Mod: 0.92)"
            }
        }
    }
}
```

Some suggested types to use are # TODO.

### Step 3: Array Extraction

Now that we know how to extract objects, let's extract an array of them. Looking at the table in the middle of page 2, we see exposure broken down by US State.

```python
current_exposure_info = {
    "name": "Current Exposure Info",
    "type": {
        "type": "object",
        "properties": [
            {"name": "Rating Basis", "type": {"type": "string"}},
            {"name": "Exposure Premium", "type": {"type": "string"}},
            {"name": "Exposure Amount", "type": {"type": "int"}},
            {"name": "Exposure Amount Currency", "type": {"type": "string"}},
            {"name": "Exposure Modification", "type": {"type": "string"}},
            {
                "name": "Current Exposure Information",
                "type": {
                    "type": "array",
                    "description": "The current exposure information broken down by US State.",
                    "item_type": {
                        "type": "object",
                        "properties": [
                            {"name": "State", "type": {"type": "string"}},
                            {"name": "Class Code", "type": {"type": "string"}},
                            {"name": "Payroll", "type": {"type": "int"}},
                            {"name": "Manual Premium", "type": {"type": "int"}},
                            {"name": "Modified Premium", "type": {"type": "int"}},
                        ],
                    },
                },
            },
        ],
    },
}

data = partition_file(
    "gri.pdf",
    table_mode="standard",
    property_extraction_options={"schema": {"properties": [current_exposure_info]}},
)

print(json.dumps(data, indent=4))
```

Here's what the output should look like:

```json
{
    ...
    "properties": {
        "entity": {
            "Current Exposure Info": {
                "Rating Basis": "Payroll",
                "Exposure Premium": "Manual / Standard",
                "Exposure Amount": 215750000,
                "Exposure Amount Currency": "USD",
                "Exposure Modification": "Yes (NCCI Mod: 0.92)",
                "Current Exposure Information": [
                    {
                        "State": "CA",
                        "Class Code": "7219",
                        "Payroll": 45000000,
                        "Manual Premium": 1890000,
                        "Modified Premium": 1738800
                    },
                    {
                        "State": "TX",
                        "Class Code": "7219",
                        "Payroll": 32500000,
                        "Manual Premium": 910000,
                        "Modified Premium": 837200
                    },
                    {
                        "State": "IL",
                        "Class Code": "7380",
                        "Payroll": 28000000,
                        "Manual Premium": 812000,
                        "Modified Premium": 747040
                    },
                    {
                        "State": "FL",
                        "Class Code": "7219",
                        "Payroll": 21000000,
                        "Manual Premium": 546000,
                        "Modified Premium": 502320
                    },
                    {
                        "State": "PA",
                        "Class Code": "7380",
                        "Payroll": 18500000,
                        "Manual Premium": 481000,
                        "Modified Premium": 442520
                    },
                    {
                        "State": "GA",
                        "Class Code": "8292",
                        "Payroll": 15000000,
                        "Manual Premium": 330000,
                        "Modified Premium": 303600
                    },
                    {
                        "State": "Other",
                        "Class Code": "Various",
                        "Payroll": 55750000,
                        "Manual Premium": 1505250,
                        "Modified Premium": 1384830
                    }
                ]
            }
        }
    }
}
```
